(function(e){function t(t){for(var a,s,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var o=n[s];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},s={app:0},r={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-266eaca7":"020b1a3c","chunk-2d0aa29d":"123d1873","chunk-2d0b257a":"e9772e10","chunk-4b9d45b8":"d86bacdc","chunk-61b4a870":"86effef0","chunk-666a3213":"9966dc7c","chunk-eaf7d382":"c86dd663","chunk-ffa82eb0":"a93c3e1d"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-266eaca7":1,"chunk-4b9d45b8":1,"chunk-61b4a870":1,"chunk-666a3213":1,"chunk-ffa82eb0":1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-266eaca7":"048558a6","chunk-2d0aa29d":"31d6cfe0","chunk-2d0b257a":"31d6cfe0","chunk-4b9d45b8":"c082943e","chunk-61b4a870":"85c30d15","chunk-666a3213":"2a2a046f","chunk-eaf7d382":"31d6cfe0","chunk-ffa82eb0":"76a6ca7f"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===r))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===a||u===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete s[e],f.parentNode.removeChild(f),n(i)},f.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){s[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",d.name="ChunkLoadError",d.type=a,d.request=s,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/SimpleTwitter-vue/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0262":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Loading",{attrs:{active:e.isLoading,"is-full-page":e.fullPage},on:{"update:active":function(t){e.isLoading=t}},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),n("div",{staticClass:"modal fade",attrs:{id:"repliedModal",tabindex:"-1","aria-labelledby":"repliedModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[e._m(0),n("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(e.initTweet.id)}}},[n("div",{staticClass:"modal-body"},[n("div",{staticClass:"d-flex replyModal-container"},[n("div",{staticClass:"tweet-img-container"},[n("img",{staticClass:"tweet-img rounded",attrs:{src:e._f("emptyImage")(e.initTweet.avatar),alt:""}})]),n("div",{staticClass:"tweet-content-container d-flex flex-column"},[n("div",{staticClass:"tweet-header d-flex"},[n("span",{staticClass:"tweet-userName"},[e._v(e._s(e.initTweet.name))]),n("span",{staticClass:"tweet-userInfo"},[e._v("@"+e._s(e.initTweet.account)+"・"+e._s(e._f("fromNow")(e.initTweet.createdAt)))])]),n("p",{staticClass:"tweet-content"},[e._v(" "+e._s(e.initTweet.description)+" ")]),n("span",{staticClass:"tweet-replyFormat"},[e._v("回覆"),n("span",{staticClass:"ml-1 d-inline-block",attrs:{href:""}},[e._v("@"+e._s(e.initTweet.account))])])])]),n("div",{staticClass:"d-flex replyModal-container"},[n("div",{staticClass:"tweet-img-container"},[n("img",{staticClass:"tweet-img rounded",attrs:{src:e._f("emptyImage")(e.currentUser.avatar),alt:""}})]),n("div",{staticClass:"tweet-content-container d-flex flex-column"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.repliedContent,expression:"repliedContent"}],staticClass:"tweet-content replyModal-content",attrs:{name:"comment",id:"comment",cols:"30",rows:"5",placeholder:"有什麼新鮮事嗎？"},domProps:{value:e.repliedContent},on:{input:function(t){t.target.composing||(e.repliedContent=t.target.value)}}})])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary btn-tweet",attrs:{type:"submit","data-bs-dismiss":"modal",disabled:e.isProcessing}},[e._v(" 回覆 ")])])])])])])],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-header"},[n("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[n("i",{staticClass:"fas fa-times fa-lg"})])])}],r=n("5530"),i=n("1da1"),o=(n("96cf"),n("498a"),n("2708")),c=n("2fa3"),l=n("6783"),u=n("2f62"),d=n("9062"),f=n.n(d),m=(n("e40d"),{props:{initTweet:{type:Object,required:!0}},mixins:[o["b"],o["c"]],components:{Loading:f.a},data:function(){return{repliedContent:"",isProcessing:!1,repliedCurrentUser:this.currentUser,tweet:this.initTweet,isLoading:!1,fullPage:!0}},methods:{handleSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t.isLoading=!0,t.isProcessing=!0,!(0===t.repliedContent.trim().length||t.repliedContent.trim().length>140)){n.next=5;break}throw new Error("無法送出空白或超過140字數的回文");case 5:return a={comment:t.repliedContent},n.next=8,l["a"].repliedTweet({content:a,tweetId:e});case 8:if(s=n.sent,r=s.data,"success"===r.status){n.next=12;break}throw new Error(r.message);case 12:t.repliedContent="",t.isProcessing=!1,i=new Date,o={content:a.comment,curTime:i,id:t.initTweet.id},t.isLoading=!1,t.$emit("after-create-comment",o),n.next=25;break;case 20:n.prev=20,n.t0=n["catch"](0),t.isLoading=!1,t.isProcessing=!1,c["a"].fire({icon:"error",title:n.t0});case 25:case"end":return n.stop()}}),n,null,[[0,20]])})))()}},computed:Object(r["a"])({},Object(u["b"])(["currentUser","isAuthenticated"]))}),p=m,b=n("2877"),g=Object(b["a"])(p,a,s,!1,null,null,null);t["a"]=g.exports},"0a98":function(e,t,n){"use strict";n("5028")},2291:function(e,t,n){},2708:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n("c1df"),s=n.n(a),r={filters:{fromNow:function(e){return e?s()(e).fromNow():"-"}}},i={filters:{customizeDate:function(e){return s.a.locale("zh-tw"),e?s()(e).format("A hh:mm・YYYY年MM月DD日"):"-"},monthDayDate:function(e){return e?s()(e).format("M月D日"):""},hourMinDate:function(e){return s.a.locale("zh-tw"),e?s()(e).format("A hh:mm"):""}}},o={filters:{emptyImage:function(e){return e||"https://via.placeholder.com/400x400/DFDFDF?text=No+Image"},emptyCoverImage:function(e){return e||"https://via.placeholder.com/1200x400/DFDFDF?text=No+Image"}}}},"2bd9":function(e,t,n){},"2fa3":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));n("d3b7");var a=n("bc3a"),s=n.n(a),r=n("3d20"),i=n.n(r),o="https://simpletwitter-api.herokuapp.com/api",c=s.a.create({baseURL:o});c.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var l=c,u=i.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="4678"},"4cce":function(e,t,n){"use strict";var a=n("2fa3");t["a"]={getCurrentUser:function(){return a["b"].get("/users/current")},get:function(e){return a["b"].get("/users/".concat(e))},getTotalUser:function(){return a["b"].get("/admin/users")},putUser:function(e,t){return a["b"].put("/users/".concat(e),t)},setUser:function(e){return a["b"].post("/users",e)},update:function(e){var t=e.userId,n=e.formData;return a["b"].put("/users/".concat(t),n)},getTopUsers:function(){return a["b"].get("/users")},addFavorite:function(e){var t=e.restaurantId;return a["b"].post("/favorite/".concat(t),null)},deleteFavorite:function(e){var t=e.restaurantId;return a["b"].delete("/favorite/".concat(t))},addFollowing:function(e){var t=e.userId,n={id:t};return a["b"].post("/followships",n)},deleteFollowing:function(e){var t=e.userId;return a["b"].delete("/followships/".concat(t))},getFollowings:function(e){return a["b"].get("/users/".concat(e,"/followings"))},getFollowers:function(e){return a["b"].get("/users/".concat(e,"/followers"))},updateUserProfile:function(e){var t=e.userId,n=e.formData;return a["b"].put("/users/".concat(t),n)},getUserTweets:function(e){return a["b"].get("/users/".concat(e,"/tweets"))},getUserLikeTweets:function(e){return a["b"].get("/users/".concat(e,"/likes"))},getUserRepliedTweets:function(e){return a["b"].get("/users/".concat(e,"/replied_tweets"))}}},5028:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("main",{attrs:{role:"main"}},[n("router-view")],1)])},r=[],i=(n("7b17"),n("ab8b"),{name:"App"}),o=i,c=(n("5c0b"),n("2877")),l=Object(c["a"])(o,s,r,!1,null,null,null),u=l.exports,d=n("1da1"),f=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("b0c0"),n("2532"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-100",attrs:{id:"UserSetting"}},[n("SideNavBarDC",{on:{"after-create-tweet":e.updateTweetCard}}),n("div",{staticClass:"header userSetting-container w-100"},[e._m(0),n("UserSettingForm",{attrs:{isSignUp:e.isSignUp}})],1)],1)},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("h1",[e._v("帳戶設定")])])}],b=n("5530"),g=n("e9c7"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"w-100 userSetting-form",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit(t)}}},[n("div",{staticClass:"row"},[e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.account,expression:"form.account"}],attrs:{id:"account",name:"account",type:"text",required:"",maxlength:"20"},domProps:{value:e.form.account},on:{input:function(t){t.target.composing||e.$set(e.form,"account",t.target.value)}}})]),n("div",{staticClass:"row"},[e._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{id:"name",name:"name",type:"text",maxlength:"50",required:""},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),n("div",{staticClass:"row"},[e._m(2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{id:"email",name:"email",type:"email",maxlength:"20",required:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),n("div",{staticClass:"row"},[e._m(3),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{id:"password",name:"password",type:"password",required:"",maxLength:"15"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),n("div",{staticClass:"row"},[e._m(4),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.checkPassword,expression:"form.checkPassword"}],attrs:{id:"passwordCheck",name:"passwordCheck",type:"password",required:""},domProps:{value:e.form.checkPassword},on:{input:function(t){t.target.composing||e.$set(e.form,"checkPassword",t.target.value)}}})]),e.isSignUp?[n("div",{staticClass:"row mt-4"},[n("button",{staticClass:"btn submit",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" "+e._s(e.isProcessing?"註冊中..":"註冊")+" ")])]),n("div",{staticClass:"row"},[n("button",{staticClass:"btn cancel",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.goBackToSignIn.apply(null,arguments)}}},[e._v(" 取消 ")])])]:[n("div",{staticClass:"row"},[e.isSaved?n("button",{staticClass:"btn update",attrs:{disabled:""}},[e._v("已儲存")]):n("button",{staticClass:"btn update",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" "+e._s(e.isProcessing?"儲存中..":"儲存")+" ")])])]],2)},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"account"}},[e._v("帳號"),n("span",{staticClass:"note ml-5"},[e._v("*帳號長度不得大於 20 字元")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"name"}},[e._v("名稱"),n("span",{staticClass:"note ml-5"},[e._v("*名稱長度不得大於 50 字元")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"email"}},[e._v("Email"),n("span",{staticClass:"note ml-5"},[e._v("*信箱長度不得大於 20 字元")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"password"}},[e._v("密碼"),n("span",{staticClass:"note ml-5"},[e._v("*密碼長度需介於 5 和 15 之間")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"passwordCheck"}},[e._v("密碼確認"),n("span",{staticClass:"note ml-3"},[e._v("*密碼長度需介於 5 和 15 之間")])])}],v=n("2fa3"),C={signIn:function(e){return v["b"].post("/users/signin",e)},signUp:function(e){return v["b"].post("/users",e)}},k=n("4cce"),j=n("2f62"),x={name:"UserSettingForm",props:{isSignUp:{type:Boolean,default:!0}},created:function(){this.fetchCurrentUser(this.currentUser)},data:function(){return{form:{name:"",account:"",email:"",password:"",checkPassword:""},isProcessing:!1,isSaved:!0,userChanged:!1}},methods:{fetchCurrentUser:function(e){var t=e.name,n=e.email,a=e.account;this.form=Object(b["a"])(Object(b["a"])({},this.form),{},{name:t,email:n,account:a})},goBackToSignIn:function(){this.$router.push("/signin")},handleSubmit:function(e){var t=this.formDataCheck();if(!t)return this.isProcessing=!1;this.isSignUp?this.handleSignUpSubmit(e):this.handleSaveSetting(e)},formDataCheck:function(){var e=!1;return this.form.account?this.form.name?this.form.email?this.form.password?this.form.password.length>15||this.form.password.length<5?(v["a"].fire({icon:"info",title:"密碼長度不得小於 5 或超過 15！"}),e):this.form.checkPassword?this.form.password!==this.form.checkPassword?(v["a"].fire({icon:"error",title:"密碼不相符！"}),e):(console.log("Data check passed"),!0):(v["a"].fire({icon:"info",title:"請填寫密碼確認！"}),e):(v["a"].fire({icon:"info",title:"請填寫密碼！"}),e):(v["a"].fire({icon:"info",title:"請填寫 Email！"}),e):(v["a"].fire({icon:"info",title:"請填寫名稱！"}),e):(v["a"].fire({icon:"info",title:"請填寫帳號！"}),e)},handleSignUpSubmit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isProcessing=!0,n=e.form,t.next=5,C.signUp(n);case 5:if(a=t.sent,s=a.data,"success"===s.status){t.next=9;break}throw new Error(s);case 9:v["a"].fire({icon:"success",title:"註冊成功！"}),e.$router.push("signin"),t.next=20;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0),r="無法註冊，請稍後再試！",409===t.t0.response.status&&(r="該 Email 已被註冊，請選擇其他 Email！"),e.isProcessing=!1,v["a"].fire({icon:"error",title:r});case 20:case"end":return t.stop()}}),t,null,[[0,13]])})))()},handleSaveSetting:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.formDataCheck(),n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e.isProcessing=!0,a=e.currentUser.id,s=Object(b["a"])(Object(b["a"])({},e.form),{},{page:"setting"}),t.next=9,k["a"].putUser(a,s);case 9:if(r=t.sent,i=r.data,console.log(i),"success"===i.status){t.next=14;break}throw new Error(i.message);case 14:v["a"].fire({icon:"success",title:"資料修改成功！"}),e.isProcessing=!1,e.isSaved=!0,e.userChanged=!0,e.form.password="",e.form.checkPassword="",t.next=27;break;case 22:t.prev=22,t.t0=t["catch"](3),console.log(t.t0),e.isProcessing=!1,v["a"].fire({icon:"error",title:"無法變更使用者資訊，請稍後再試！"});case 27:case"end":return t.stop()}}),t,null,[[3,22]])})))()}},watch:{currentUser:function(e){this.fetchCurrentUser(e)},form:{handler:function(){if(!this.userChanged)return this.userChanged=!0;this.isSaved=!1},deep:!0}},computed:Object(b["a"])({},Object(j["b"])(["currentUser"]))},_=x,y=(n("6a75"),Object(c["a"])(_,w,h,!1,null,"77868ccb",null)),U=y.exports,T={name:"UserSetting",components:{SideNavBarDC:g["a"],UserSettingForm:U},data:function(){return{isSignUp:!1}},methods:{updateTweetCard:function(){}},computed:Object(b["a"])({},Object(j["b"])(["currentUser","isAuthenticated"]))},P=T,A=(n("92a0"),Object(c["a"])(P,m,p,!1,null,"6e5c5c52",null)),E=A.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[e._m(0),e._m(1),n("div",{staticClass:"row"},[n("label",{attrs:{for:"account"}},[e._v("帳號")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.account,expression:"form.account"}],attrs:{id:"account",name:"account",type:"text",required:""},domProps:{value:e.form.account},on:{input:function(t){t.target.composing||e.$set(e.form,"account",t.target.value)}}})]),n("div",{staticClass:"row"},[n("label",{attrs:{for:"password"}},[e._v("密碼")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{id:"password",name:"password",type:"password",required:""},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),n("div",{staticClass:"row mt-4"},[n("button",{staticClass:"btn signin",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" "+e._s(e.isProcessing?"登入中":"登入")+" ")])]),n("div",{staticClass:"row link-btns-container text-right"},[n("div",{staticClass:"link-btns"},[n("router-link",{staticClass:"routerLink",attrs:{to:"/regist"}},[e._v("註冊 Alphitter")]),n("span",[e._v(" · ")]),n("router-link",{staticClass:"routerLink",attrs:{to:"/admin"}},[e._v("後台登入")])],1)])])])},O=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:n("cf05"),alt:""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("h1",[e._v("登入 Alphitter")])])}],S={name:"Login",data:function(){return{form:{account:"",password:""},isProcessing:!1}},methods:{handleSubmit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.form,a=e.formDataCheck(n),a){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,e.isProcessing=!0,t.next=8,C.signIn(n);case 8:if(s=t.sent,r=s.data,"success"===r.status){t.next=12;break}throw new Error(r.message);case 12:console.log(r),localStorage.setItem("token",r.token),e.$store.commit("setCurrentUser",r.user),e.$router.push("/main"),t.next=25;break;case 18:t.prev=18,t.t0=t["catch"](4),console.log(t.t0),e.isProcessing=!1,v["a"].fire({icon:"error",title:"帳號密碼輸入錯誤，請在試一次！"}),e.form.account="",e.form.password="";case 25:case"end":return t.stop()}}),t,null,[[4,18]])})))()},formDataCheck:function(e){var t=e.account,n=e.password,a=!1;return"root"===t?(v["a"].fire({icon:"error",title:"無法使用管理者帳號於前臺登入！"}),!1):t?n?(a=!0,a):(v["a"].fire({icon:"info",title:"尚未填寫密碼！"}),!1):(v["a"].fire({icon:"info",title:"尚未填寫帳號！"}),!1)}}},D=S,R=(n("be6b"),Object(c["a"])(D,L,O,!1,null,"08b0c842",null)),I=R.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._m(0),e._m(1),n("UserSettingForm",{attrs:{isSignUp:e.isSignUp}})],1)},M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:n("cf05"),alt:""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("h1",[e._v("建立你的帳號")])])}],N={name:"Regist",components:{UserSettingForm:U},data:function(){return{isSignUp:!0}}},B=N,z=(n("cd1e"),Object(c["a"])(B,F,M,!1,null,"b6049564",null)),q=z.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container py-5 "},[n("form",{staticClass:"w-100",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[n("div",{staticClass:"adminForm-container"},[e._m(0),e._m(1),n("div",{staticClass:"form-account form-label-group mb-2"},[n("label",{attrs:{for:"account"}},[e._v("帳號")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",autocomplete:"useraccount",required:"",autofocus:""},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),n("div",{staticClass:"form-password form-label-group mb-3"},[n("label",{attrs:{for:"password"}},[e._v("密碼")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",autocomplete:"current-password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3 w-100",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" 登入 ")]),n("div",{staticClass:"sign-in text-center mb-3 w-100"},[n("p",{staticClass:"text-right"},[n("router-link",{attrs:{to:"/signin"}},[e._v("前台登入")])],1)])])])])},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo text-center"},[a("img",{attrs:{src:n("cf05"),alt:""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin-text text-center mb-4"},[n("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("後台登入")])])}],Y={name:"AdminLogin",data:function(){return{account:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.account&&e.password){t.next=4;break}return v["a"].fire({icon:"warning",title:"請填入帳號和密碼"}),t.abrupt("return");case 4:return e.isProcessing=!0,t.next=7,C.signIn({account:e.account,password:e.password});case 7:if(n=t.sent,console.log(n),a=n.data,"success"===a.status){t.next=12;break}throw new Error(a.message);case 12:if("admin"===a.user.role){t.next=16;break}return v["a"].fire({icon:"warning",title:"您非管理員身份！"}),e.isProcessing=!1,t.abrupt("return");case 16:localStorage.setItem("token",a.token),e.$router.push("/admin_main"),t.next=25;break;case 20:t.prev=20,t.t0=t["catch"](0),e.password="",e.isProcessing=!1,v["a"].fire({icon:"warning",title:"請確認您輸入的帳號密碼"});case 25:case"end":return t.stop()}}),t,null,[[0,20]])})))()}}},G=Y,J=(n("7423"),Object(c["a"])(G,W,$,!1,null,"6520d598",null)),H=J.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex"},[n("Loading",{attrs:{active:e.isLoading,"is-full-page":e.fullPage},on:{"update:active":function(t){e.isLoading=t}},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),n("SideNavBarDC",{on:{"after-create-tweet":e.updateTweetCard}}),n("section",{staticClass:"main-container w-100"},[e._m(0),n("div",{staticClass:"main-tweet"},[n("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[n("div",{staticClass:"content d-flex"},[n("router-link",{attrs:{to:"/user/"+e.currentUser.id}},[n("img",{staticClass:"content-img rounded",attrs:{src:e._f("emptyImage")(e.currentUser.avatar),alt:""}})]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newTweetContent,expression:"newTweetContent"}],staticClass:"content-tweet",attrs:{name:"newTweet",id:"newTweet",cols:"30",placeholder:"有什麼新鮮事嗎？"},domProps:{value:e.newTweetContent},on:{input:function(t){t.target.composing||(e.newTweetContent=t.target.value)}}})],1),n("div",{staticClass:"btn-container"},[n("button",{staticClass:"btn btn-primary btn-tweet",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" 推文 ")])])])]),n("MainTweetsCard",{attrs:{"is-reply-page":e.isReplyPage,"init-tweets":e.tweets}})],1),n("FollowingsCardDC",{attrs:{"init-top-users":e.topUsers}})],1)},X=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",{staticClass:"font-bold"},[e._v("首頁")])])}],K=(n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"tweets"},e._l(e.tweets,(function(t,a){return n("li",{key:a,staticClass:"tweet d-flex"},[n("router-link",{staticClass:"tweet-img-container",attrs:{to:"/user/"+t.UserId}},[n("img",{staticClass:"tweet-img rounded",attrs:{src:e._f("emptyImage")(t.avatar),alt:""}})]),n("div",{staticClass:"tweet-content-container d-flex flex-column w-100"},[n("div",{staticClass:"tweet-header d-flex"},[n("router-link",{staticClass:"tweet-userName",attrs:{to:"/user/"+t.UserId}},[e._v(e._s(t.name))]),n("span",{staticClass:"tweet-userInfo"},[e._v("@"+e._s(t.account)+"・"+e._s(e._f("fromNow")(t.createdAt)))])],1),n("router-link",{staticClass:"tweet-content",attrs:{to:"/reply_list/"+t.id}},[e._v(" "+e._s(t.description)+" ")]),n("div",{staticClass:"tweet-icons-container d-flex"},[n("a",{staticClass:"tweet-icon",attrs:{"data-bs-toggle":"modal","data-bs-target":"#repliedModal"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.handleRepliedContent(t)}}},[n("font-awesome-icon",{staticClass:"mr-3",attrs:{icon:["far","comment"]}}),e._v(e._s(t.repliedCount))],1),t.isLike?n("span",{staticClass:"tweet-icon pink",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.deleteLikes(t)}}},[n("font-awesome-icon",{staticClass:"mr-3",attrs:{icon:["fas","heart"]}}),e._v(e._s(t.likedCount))],1):n("span",{staticClass:"tweet-icon",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.addLikes(t)}}},[n("font-awesome-icon",{staticClass:"mr-3",attrs:{icon:["far","heart"]}}),e._v(e._s(t.likedCount))],1)])],1)],1)})),0),n("RepliedModal",{attrs:{"init-tweet":e.tweet},on:{"after-create-comment":e.afterCreateComment}})],1)}),Q=[],V=n("2909"),ee=(n("159b"),n("0262")),te=n("2708"),ne=n("6783"),ae={name:"MainTweetsCard",components:{RepliedModal:ee["a"]},mixins:[te["b"],te["c"]],props:{initTweets:{type:Array,required:!0}},data:function(){return{tweets:this.initTweets,tweet:{}}},watch:{initTweets:function(e){this.tweets=Object(V["a"])(e)}},methods:{handleRepliedContent:function(e){this.tweet=e},afterCreateComment:function(e){this.tweets.forEach((function(t){t.id===e.id&&(t.repliedCount+=1)})),this.$emit("after-create-comment")},addLikes:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne["a"].addLike(e.id);case 3:if(n=t.sent,a=n.data,"success"===a.status){t.next=7;break}throw new Error(a.message);case 7:e.isLike=!e.isLike,e.likedCount+=1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),v["a"].fire({icon:"error",title:"無法喜愛這則推文，請稍後再試"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},deleteLikes:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne["a"].deleteLike(e.id);case 3:if(n=t.sent,a=n.data,"success"===a.status){t.next=7;break}throw new Error(a.message);case 7:e.isLike=!e.isLike,e.likedCount-=1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),v["a"].fire({icon:"error",title:"無法取消喜愛這則推文，請稍後再試"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},se=ae,re=Object(c["a"])(se,K,Q,!1,null,"54f0010b",null),ie=re.exports,oe=n("a736"),ce=n("9062"),le=n.n(ce),ue=(n("e40d"),{name:"MainTweetsPage",mixins:[te["b"]],components:{MainTweetsCard:ie,FollowingsCardDC:oe["a"],SideNavBarDC:g["a"],Loading:le.a},data:function(){return{newTweetContent:"",isReplyPage:!1,isProcessing:!1,tweets:[],newTweetInfo:{likedCount:0,repliedCount:0},isLoading:!1,fullPage:!0}},methods:{fetchTweets:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,ne["a"].getTweets();case 4:n=t.sent,e.tweets=n.data,e.isLoading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.isLoading=!1,v["a"].fire({icon:"error",title:"無法取得推文資料，請稍後再試"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSubmit:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isLoading=!0,t.isProcessing=!0,!(0===t.newTweetContent.trim().length||t.newTweetContent.trim().length>140)){e.next=5;break}throw new Error("無法送出空白或超過140字數的文章");case 5:return t.getNewTweetInfo(t.newTweetContent),n={description:t.newTweetContent},e.next=9,ne["a"].newTweet.create(n);case 9:if(a=e.sent,s=a.data,"success"===s.status){e.next=13;break}throw new Error(s.message);case 13:t.newTweetContent="",t.isProcessing=!1,t.isLoading=!1,e.next=23;break;case 18:e.prev=18,e.t0=e["catch"](0),t.isLoading=!1,t.isProcessing=!1,v["a"].fire({icon:"error",title:e.t0});case 23:case"end":return e.stop()}}),e,null,[[0,18]])})))()},getNewTweetInfo:function(e){var t=new Date;this.newTweetInfo=Object(b["a"])(Object(b["a"])({},this.newTweetInfo),{},{description:e,createdAt:t,avatar:this.currentUser.avatar,name:this.currentUser.name,account:this.currentUser.account,UserId:this.currentUser.id}),this.tweets.unshift(this.newTweetInfo)},updateTweetCard:function(e){this.getNewTweetInfo(e)}},computed:Object(b["a"])({},Object(j["b"])(["currentUser","isAuthenticated","topUsers"])),created:function(){this.fetchTweets()}}),de=ue,fe=(n("0a98"),Object(c["a"])(de,Z,X,!1,null,"e60cb890",null)),me=fe.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v(" 404 Page Not Found ")])},be=[],ge={},we=Object(c["a"])(ge,pe,be,!1,null,null,null),he=we.exports;a["a"].use(j["a"]);var ve=new j["a"].Store({state:{currentUser:{account:"",avatar:"",cover:"",email:"",id:void 0,introduction:"",name:"",role:"user"},isAuthenticated:!1,token:"",currentRoomId:void 0,topUsers:[{account:"",avatar:"",followerCount:0,id:-1,isFollowed:!1,name:""}]},mutations:{setCurrentUser:function(e,t){e.currentUser=Object(b["a"])(Object(b["a"])({},e.currentUser),t),e.isAuthenticated=!0,e.token=localStorage.getItem("token")},revokeAuthentication:function(e){e.currentUser={},e.isAuthenticated=!1,localStorage.removeItem("token")},setTopUsers:function(e,t){e.topUsers=t}},actions:{fetchCurrentUser:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,k["a"].getCurrentUser();case 4:if(a=t.sent,s=a.data,"error"!==s.status){t.next=8;break}throw new Error(s.message);case 8:return r=s.account,i=s.id,o=s.name,c=s.email,l=s.avatar,u=s.role,n("setCurrentUser",{account:r,id:i,name:o,email:c,avatar:l,role:u}),t.abrupt("return",!0);case 13:return t.prev=13,t.t0=t["catch"](1),n("revokeAuthentication"),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},getTopUser:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,k["a"].getTopUsers();case 4:if(a=t.sent,s=a.data,"error"!==s.status){t.next=8;break}throw new Error(s.message);case 8:n("setTopUsers",s.users),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),v["a"].fire({icon:"error",title:"無法取得Top跟隨者"});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()}},modules:{}});a["a"].use(f["a"]);var Ce=[{path:"/",name:"root",redirect:"/signin"},{path:"/setting",name:"setting",component:E},{path:"/signin",name:"login",component:I},{path:"/regist",name:"regist",component:q},{path:"/admin",name:"admin",component:H},{path:"/main",name:"main",component:me},{path:"/admin_main",name:"adminMain",component:function(){return n.e("chunk-61b4a870").then(n.bind(null,"4c90"))}},{path:"/admin_users",name:"adminUsers",component:function(){return n.e("chunk-ffa82eb0").then(n.bind(null,"6135"))}},{path:"/publicChatRoom",name:"PublicChatRoom",component:function(){return n.e("chunk-eaf7d382").then(n.bind(null,"d583"))}},{path:"/notification",name:"Notification",component:function(){return n.e("chunk-2d0aa29d").then(n.bind(null,"109a"))}},{path:"/personalChat",name:"PersonalChat",component:function(){return n.e("chunk-2d0b257a").then(n.bind(null,"2468"))}},{path:"/reply_list/:id",name:"ReplyList",component:function(){return n.e("chunk-4b9d45b8").then(n.bind(null,"56c3"))}},{path:"/user/:id/follow",name:"UserFollowers",component:function(){return n.e("chunk-666a3213").then(n.bind(null,"0d81"))}},{path:"/user/:id/following",name:"UserFollowings",component:function(){return n.e("chunk-666a3213").then(n.bind(null,"0d81"))}},{path:"/user/:id",name:"UserProfile",component:function(){return n.e("chunk-266eaca7").then(n.bind(null,"4a39"))}},{path:"*",name:"not-found",component:he}],ke=new f["a"]({linkExactActiveClass:"btn-sideNavActive",routes:Ce});ke.beforeEach(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n,a){var s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=localStorage.getItem("token"),r=!1,!s){e.next=7;break}return e.next=5,ve.dispatch("fetchCurrentUser");case 5:r=e.sent,ve.dispatch("getTopUser");case 7:if(i=["login","regist","admin"],r||i.includes(t.name)){e.next=11;break}return a("/signin"),e.abrupt("return");case 11:if(!r||!i.includes(t.name)){e.next=14;break}return a("/main"),e.abrupt("return");case 14:a();case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());var je=ke,xe=(n("15f5"),n("7051"),n("ecee")),_e=n("c074"),ye=n("ad3d");xe["c"].add(_e["a"]),a["a"].component("font-awesome-icon",ye["a"]),a["a"].config.productionTip=!1,new a["a"]({router:je,store:ve,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"63ea":function(e,t,n){},6783:function(e,t,n){"use strict";var a=n("2fa3");t["a"]={getTweets:function(){return a["b"].get("/tweets")},deleteTweet:function(e){var t=e.tweetId;return a["b"].delete("/admin/tweets/".concat(t))},getReplyTweet:function(e){return a["b"].get("/tweets/".concat(e))},getRepies:function(e){return a["b"].get("/tweets/".concat(e,"/replies"))},newTweet:{create:function(e){return a["b"].post("/tweets",e)}},repliedTweet:function(e){var t=e.content,n=e.tweetId;return a["b"].post("/tweets/".concat(n,"/replies"),t)},addLike:function(e){return a["b"].post("/tweets/".concat(e,"/like"),null)},deleteLike:function(e){return a["b"].post("/tweets/".concat(e,"/unlike"))}}},"6a75":function(e,t,n){"use strict";n("63ea")},7423:function(e,t,n){"use strict";n("ba70")},"92a0":function(e,t,n){"use strict";n("2bd9")},"9c0c":function(e,t,n){},a736:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"followingsCard-container"},[n("div",{staticClass:"followingsCard"},[n("h3",{staticClass:"followings-title"},[e._v("跟隨誰")]),n("ul",{staticClass:"followingList"},e._l(e.users.slice(0,5),(function(t){return n("li",{key:t.id,staticClass:"following-item d-flex justify-content-between"},[n("router-link",{staticClass:"following-info-container d-flex",attrs:{to:"/user/"+t.id}},[n("img",{staticClass:"following-img rounded",attrs:{src:e._f("emptyImage")(t.avatar),alt:""}}),n("div",{staticClass:"following-info d-flex flex-column justify-content-center"},[n("h4",{staticClass:"following-name"},[e._v(e._s(t.name))]),n("span",{staticClass:"following-id"},[e._v("@"+e._s(t.account))])])]),n("div",{staticClass:"btn-followingsCard-container d-flex align-items-center"},[t.isFollowed&&e.currentUser.id!==t.id?n("button",{staticClass:"btn btn-primary btn-followingsCard",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.deleteFollowing(t.id)}}},[e._v(" 正在跟隨 ")]):e._e(),t.isFollowed||e.currentUser.id===t.id?e._e():n("button",{staticClass:"btn btn-outline-primary btn-outline-followingsCard",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.addFollowing(t.id)}}},[e._v(" 跟隨 ")])])],1)})),0),e.isMore?e._e():n("a",{staticClass:"more",attrs:{href:"#"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.isMore=!0}}},[e._v("顯示更多")]),e.isMore&&e.users.length<=5?n("span",{staticClass:"more"},[e._v("目前沒有更多使用者")]):e._e(),e.isMore&&e.users.length>5?n("ul",{staticClass:"followingList"},e._l(e.users.slice(5,e.users.length),(function(t){return n("li",{key:t.id,staticClass:"following-item d-flex justify-content-between"},[n("router-link",{staticClass:"following-info-container d-flex",attrs:{to:"/user/"+t.id,href:""}},[n("img",{staticClass:"following-img rounded",attrs:{src:e._f("emptyImage")(t.avatar),alt:""}}),n("div",{staticClass:"following-info d-flex flex-column justify-content-center"},[n("h4",{staticClass:"following-name"},[e._v(e._s(t.name))]),n("span",{staticClass:"following-id"},[e._v("@"+e._s(t.account))])])]),n("div",{staticClass:"btn-followingsCard-container d-flex align-items-center"},[t.isFollowed&&e.currentUser.id!==t.id?n("button",{staticClass:"btn btn-primary btn-followingsCard",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.deleteFollowing(t.id)}}},[e._v(" 正在跟隨 ")]):e._e(),t.isFollowed||e.currentUser.id===t.id?e._e():n("button",{staticClass:"btn btn-outline-primary btn-outline-followingsCard",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.addFollowing(t.id)}}},[e._v(" 跟隨 ")])])],1)})),0):e._e(),e.isMore?n("a",{staticClass:"more",attrs:{href:"#"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.isMore=!1}}},[e._v("顯示減少")]):e._e()])])},s=[],r=n("5530"),i=n("1da1"),o=n("2909"),c=(n("96cf"),n("d81d"),n("2708")),l=n("4cce"),u=n("2fa3"),d=n("2f62"),f={props:{initTopUsers:{type:Array,required:!0}},mixins:[c["b"]],watch:{initTopUsers:function(e){this.users=Object(o["a"])(e)}},data:function(){return{users:this.initTopUsers,isMore:!1}},methods:{addFollowing:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l["a"].addFollowing({userId:e});case 3:if(a=n.sent,s=a.data,"success"===s.status){n.next=7;break}throw new Error(s.message);case 7:t.users=t.users.map((function(t){return t.id!==e?t:Object(r["a"])(Object(r["a"])({},t),{},{followerCount:t.followerCount+1,isFollowed:!0})})),t.$emit("after-add-follower",e),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),u["a"].fire({icon:"error",title:"無法追隨，請稍後再試"});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},deleteFollowing:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l["a"].deleteFollowing({userId:e});case 3:if(a=n.sent,s=a.data,"success"===s.status){n.next=7;break}throw new Error(s.message);case 7:t.$emit("after-delete-following",e),t.users=t.users.map((function(t){return t.id!==e?t:Object(r["a"])(Object(r["a"])({},t),{},{followerCount:t.followerCount-1,isFollowed:!1})})),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),u["a"].fire({icon:"error",title:n.t0});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()}},computed:Object(r["a"])({},Object(d["b"])(["currentUser","isAuthenticated"]))},m=f,p=n("2877"),b=Object(p["a"])(m,a,s,!1,null,null,null);t["a"]=b.exports},aca3:function(e,t,n){},ba70:function(e,t,n){},be6b:function(e,t,n){"use strict";n("2291")},cd1e:function(e,t,n){"use strict";n("aca3")},cf05:function(e,t){e.exports="data:image/png;base64,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"},e9c7:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sideNaveBar d-flex flex-column justify-content-between"},[n("div",{staticClass:"sideNaveBar-menu-container"},[n("h1",{staticClass:"logo"},[n("router-link",{staticClass:"logo-link",attrs:{to:"/main"}},[e._v("AlphaCamp Simple Twitter")])],1),n("ul",{staticClass:"menuList"},[n("li",{staticClass:"list-item"},[n("router-link",{staticClass:"list-link d-flex align-items-center",attrs:{to:"/main"}},[n("div",{staticClass:"icon-container-home"}),e._v(" 首頁")])],1),n("li",{staticClass:"list-item"},[n("router-link",{staticClass:"list-link d-flex align-items-center",attrs:{to:"/publicChatRoom"}},[n("div",{staticClass:"icon-container"},[n("font-awesome-icon",{attrs:{icon:["far","envelope"]}}),n("font-awesome-icon",{staticClass:"icon-message",attrs:{icon:["fas","circle"]}})],1),e._v(" 公開聊天室")])],1),n("li",{staticClass:"list-item"},[n("router-link",{staticClass:"list-link d-flex align-items-center",attrs:{to:"/user/"+e.currentUser.id}},[n("div",{staticClass:"icon-container-profile"}),e._v(" 個人資料")])],1),n("li",{staticClass:"list-item"},[n("router-link",{staticClass:"list-link d-flex align-items-center",attrs:{to:"/setting"}},[n("div",{staticClass:"icon-container-setting"}),e._v(" 設定")])],1)]),n("button",{staticClass:"btn btn-primary btn-nav-tweet",attrs:{"data-bs-toggle":"modal","data-bs-target":"#newTweetModal"}},[e._v(" 推文 ")])]),n("div",{staticClass:"logout-container"},[n("a",{staticClass:"logout-link d-flex align-items-center",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.logout.apply(null,arguments)}}},[n("div",{staticClass:"icon-container-logout"}),e._v(" 登出")])])]),n("NewTweetModal",{attrs:{currentUser:e.currentUser},on:{"after-create-tweet":e.afterCreateTweet}})],1)},s=[],r=n("5530"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Loading",{attrs:{active:e.isLoading,"is-full-page":e.fullPage},on:{"update:active":function(t){e.isLoading=t}},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),n("div",{staticClass:"modal fade",attrs:{id:"newTweetModal",tabindex:"-1","aria-labelledby":"newTweetModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content newTweet-modal-content"},[n("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[e._m(0),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"content d-flex"},[n("img",{staticClass:"content-img",attrs:{src:e._f("emptyImage")(e.currentUser.avatar),alt:""}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newTweetContent,expression:"newTweetContent"}],staticClass:"content-tweet",attrs:{name:"description",id:"sideNewTweet",cols:"30",rows:"5",placeholder:"有什麼新鮮事嗎？"},domProps:{value:e.newTweetContent},on:{input:function(t){t.target.composing||(e.newTweetContent=t.target.value)}}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary btn-tweet",attrs:{type:"submit","data-bs-dismiss":"modal",disabled:e.isProcessing}},[e._v(" 推文 ")])])])])])])],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-header"},[n("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[n("i",{staticClass:"fas fa-times fa-lg"})])])}],c=n("1da1"),l=(n("96cf"),n("498a"),n("2708")),u=n("6783"),d=n("2fa3"),f=n("2f62"),m=n("9062"),p=n.n(m),b=(n("e40d"),{mixins:[l["b"]],components:{Loading:p.a},data:function(){return{image:null,isProcessing:!1,newTweetContent:"",isLoading:!1,fullPage:!0}},methods:{handleSubmit:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isLoading=!0,t.isProcessing=!0,!(0===t.newTweetContent.trim().length||t.newTweetContent.trim().length>140)){e.next=5;break}throw new Error("無法送出空白或超過140字數的文章");case 5:return n={description:t.newTweetContent},e.next=8,u["a"].newTweet.create(n);case 8:if(a=e.sent,s=a.data,"success"===s.status){e.next=12;break}throw new Error(s.message);case 12:t.$emit("after-create-tweet",t.newTweetContent),t.newTweetContent="",t.isProcessing=!1,t.isLoading=!1,e.next=23;break;case 18:e.prev=18,e.t0=e["catch"](0),t.isLoading=!1,t.isProcessing=!1,d["a"].fire({icon:"error",title:e.t0});case 23:case"end":return e.stop()}}),e,null,[[0,18]])})))()}},computed:Object(r["a"])({},Object(f["b"])(["currentUser","isAuthenticated"]))}),g=b,w=n("2877"),h=Object(w["a"])(g,i,o,!1,null,null,null),v=h.exports,C={name:"SideNavBarDC",components:{NewTweetModal:v},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin")},afterCreateTweet:function(e){this.$emit("after-create-tweet",e)}},computed:Object(r["a"])({},Object(f["b"])(["currentUser","isAuthenticated"]))},k=C,j=Object(w["a"])(k,a,s,!1,null,null,null);t["a"]=j.exports}});
//# sourceMappingURL=app.9866bc86.js.map