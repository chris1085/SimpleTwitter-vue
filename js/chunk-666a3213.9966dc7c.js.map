{"version":3,"sources":["webpack:///./src/views/UserFollow.vue?b539","webpack:///./src/components/UserFollowCard.vue?a498","webpack:///src/components/UserFollowCard.vue","webpack:///./src/components/UserFollowCard.vue?cebe","webpack:///./src/components/UserFollowCard.vue","webpack:///src/views/UserFollow.vue","webpack:///./src/views/UserFollow.vue?f09b","webpack:///./src/views/UserFollow.vue?11ed","webpack:///./src/views/UserFollow.vue?160a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","updateTweetCard","attrs","user","_v","_s","name","tweetCount","class","followActive","selected","$event","stopPropagation","preventDefault","fetchFollowed","id","follows","updateFollowStatus","topUsers","updateFollowing","updateFollower","staticRenderFns","length","_l","follow","index","key","_f","avatar","account","introduction","isFollowed","followerId","currentUser","followingId","deleteFollowing","_e","addFollowing","props","initFollows","type","Array","required","mixins","watch","newValue","data","methods","computed","component","components","UserFollowCard","FollowingsCardDC","SideNavBarDC","cover","followerCount","followingCount","beforeRouteUpdate","getUser","to","params","followType","next","intId","filter","topUserId","forEach","created"],"mappings":"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","file":"js/chunk-666a3213.9966dc7c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex\"},[_c('SideNavBarDC',{on:{\"after-create-tweet\":_vm.updateTweetCard}}),_c('div',{staticClass:\"userFollower-container w-100\"},[_c('header',{},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('router-link',{staticClass:\"leftArrow\",attrs:{\"to\":(\"/user/\" + (_vm.user.id))}},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('div',{staticClass:\"header-title\"},[_c('h3',{staticClass:\"font-bold\"},[_vm._v(_vm._s(_vm.user.name))]),_c('span',{staticClass:\"subInfo\"},[_vm._v(_vm._s(_vm.user.tweetCount)+\"推文\")])])],1)]),_c('ul',{staticClass:\"followMenu d-flex\"},[_c('li',{staticClass:\"followMenu-item\",class:{ followActive: _vm.selected === 'UserFollowers' },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.fetchFollowed('UserFollowers', _vm.user.id)}}},[_vm._v(\" 跟隨者 \")]),_c('li',{staticClass:\"followMenu-item\",class:{ followActive: _vm.selected === 'UserFollowings' },on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.fetchFollowed('UserFollowings', _vm.user.id)}}},[_vm._v(\" 正在跟隨 \")])]),_c('UserFollowCard',{attrs:{\"init-follows\":_vm.follows},on:{\"after-click-follow\":_vm.updateFollowStatus}})],1),_c('FollowingsCardDC',{attrs:{\"init-top-users\":_vm.topUsers},on:{\"after-delete-following\":_vm.updateFollowing,\"after-add-follower\":_vm.updateFollower}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.follows.length > 0)?_c('ul',{staticClass:\"follows w-100\"},_vm._l((_vm.follows),function(follow,index){return _c('li',{key:index,staticClass:\"follow d-flex\"},[_c('div',{staticClass:\"follow-img-container\"},[_c('img',{staticClass:\"follow-img rounded\",attrs:{\"src\":_vm._f(\"emptyImage\")(follow.avatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"follow-content-container d-flex flex-column\"},[_c('div',{staticClass:\"follow-header\"},[_c('span',{staticClass:\"follow-userName\"},[_vm._v(_vm._s(follow.name))])]),_c('span',{staticClass:\"follow-userId\"},[_vm._v(\"@\"+_vm._s(follow.account))]),_c('p',{staticClass:\"follow-intro\"},[_vm._v(\" \"+_vm._s(follow.introduction)+\" \")]),_c('div',{staticClass:\"btn-container\"},[(\n              follow.isFollowed &&\n                follow.followerId !== _vm.currentUser.id &&\n                follow.followingId !== _vm.currentUser.id\n            )?_c('button',{staticClass:\"btn btn-primary btn-follow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(follow)}}},[_vm._v(\" 正在跟隨 \")]):_vm._e(),(\n              !follow.isFollowed &&\n                follow.followerId !== _vm.currentUser.id &&\n                follow.followingId !== _vm.currentUser.id\n            )?_c('button',{staticClass:\"btn btn-outline-primary btn-follow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(follow)}}},[_vm._v(\" 跟隨 \")]):_vm._e()])])])}),0):_vm._e(),(_vm.follows.length === 0)?_c('h3',{staticClass:\"text-center mt-3\"},[_vm._v(\" 目前沒有跟蹤名單喔！ \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <ul class=\"follows w-100\" v-if=\"follows.length > 0\">\n      <li class=\"follow d-flex\" v-for=\"(follow, index) in follows\" :key=\"index\">\n        <div class=\"follow-img-container\">\n          <img\n            :src=\"follow.avatar | emptyImage\"\n            alt=\"\"\n            class=\"follow-img rounded\"\n          />\n        </div>\n        <div class=\"follow-content-container d-flex flex-column\">\n          <div class=\"follow-header\">\n            <span class=\"follow-userName\">{{ follow.name }}</span>\n          </div>\n          <span class=\"follow-userId\">@{{ follow.account }}</span>\n          <p class=\"follow-intro\">\n            {{ follow.introduction }}\n          </p>\n\n          <div class=\"btn-container\">\n            <!-- <button class=\"btn btn-primary btn-follow\">正在跟隨</button> -->\n            <button\n              type=\"button\"\n              class=\"btn btn-primary btn-follow\"\n              v-if=\"\n                follow.isFollowed &&\n                  follow.followerId !== currentUser.id &&\n                  follow.followingId !== currentUser.id\n              \"\n              @click.stop.prevent=\"deleteFollowing(follow)\"\n            >\n              正在跟隨\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-primary btn-follow\"\n              v-if=\"\n                !follow.isFollowed &&\n                  follow.followerId !== currentUser.id &&\n                  follow.followingId !== currentUser.id\n              \"\n              @click.stop.prevent=\"addFollowing(follow)\"\n            >\n              跟隨\n            </button>\n          </div>\n        </div>\n      </li>\n    </ul>\n    <h3 class=\"text-center mt-3\" v-if=\"follows.length === 0\">\n      目前沒有跟蹤名單喔！\n    </h3>\n  </div>\n</template>\n\n<script>\nimport usersAPI from '../apis/users'\nimport { Toast } from '../utils/helpers'\nimport { emptyImageFilter, dateFilter } from '../utils/mixins'\nimport { mapState } from 'vuex'\n\nexport default {\n  props: {\n    initFollows: {\n      type: Array,\n      required: true\n    }\n  },\n  mixins: [emptyImageFilter, dateFilter],\n\n  watch: {\n    initFollows(newValue) {\n      this.follows = newValue\n    }\n  },\n  data() {\n    return {\n      follows: []\n    }\n  },\n  methods: {\n    async addFollowing(follow) {\n      try {\n        const id =\n          typeof follow.followerId !== 'undefined'\n            ? follow.followerId\n            : follow.followingId\n\n        const { data } = await usersAPI.addFollowing({ userId: id })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n\n        follow.isFollowed = true\n        this.$emit('after-click-follow', {\n          id,\n          isFollowed: true\n        })\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法追隨，請稍後再試'\n        })\n      }\n    },\n    async deleteFollowing(follow) {\n      try {\n        const id =\n          typeof follow.followerId !== 'undefined'\n            ? follow.followerId\n            : follow.followingId\n\n        const { data } = await usersAPI.deleteFollowing({ userId: id })\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n\n        follow.isFollowed = false\n\n        this.$emit('after-click-follow', {\n          id,\n          isFollowed: false\n        })\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法追蹤，請稍後再試'\n        })\n      }\n    }\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated'])\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowCard.vue?vue&type=template&id=3a051c12&\"\nimport script from \"./UserFollowCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"d-flex\">\n    <SideNavBarDC @after-create-tweet=\"updateTweetCard\" />\n\n    <div class=\"userFollower-container w-100\">\n      <header class=\"\">\n        <div class=\"d-flex align-items-center\">\n          <router-link :to=\"`/user/${user.id}`\" class=\"leftArrow\"\n            ><i class=\"fas fa-arrow-left\"></i\n          ></router-link>\n          <div class=\"header-title\">\n            <h3 class=\"font-bold\">{{ user.name }}</h3>\n            <span class=\"subInfo\">{{ user.tweetCount }}推文</span>\n          </div>\n        </div>\n      </header>\n      <ul class=\"followMenu d-flex\">\n        <li\n          class=\"followMenu-item\"\n          :class=\"{ followActive: selected === 'UserFollowers' }\"\n          @click.stop.prevent=\"fetchFollowed('UserFollowers', user.id)\"\n        >\n          跟隨者\n        </li>\n        <li\n          class=\"followMenu-item\"\n          :class=\"{ followActive: selected === 'UserFollowings' }\"\n          @click.stop.prevent=\"fetchFollowed('UserFollowings', user.id)\"\n        >\n          正在跟隨\n        </li>\n      </ul>\n\n      <UserFollowCard\n        :init-follows=\"follows\"\n        @after-click-follow=\"updateFollowStatus\"\n      />\n    </div>\n\n    <FollowingsCardDC\n      :init-top-users=\"topUsers\"\n      @after-delete-following=\"updateFollowing\"\n      @after-add-follower=\"updateFollower\"\n    />\n  </div>\n</template>\n\n<script>\nimport UserFollowCard from '../components/UserFollowCard.vue'\nimport FollowingsCardDC from '../components/FollowingsCardDC.vue'\nimport SideNavBarDC from '../components/SideNavBarDC.vue'\nimport usersAPI from '../apis/users'\nimport { Toast } from '../utils/helpers'\nimport { emptyImageFilter, dateFilter } from '../utils/mixins'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'UserFollowers',\n  mixins: [emptyImageFilter, dateFilter],\n  components: {\n    UserFollowCard,\n    FollowingsCardDC,\n    SideNavBarDC\n  },\n  data() {\n    return {\n      selected: 'followers',\n      user: {\n        id: -1,\n        account: '',\n        avatar: '',\n        cover: '',\n        followerCount: 1,\n        followingCount: 0,\n        introduction: '',\n        isFollowed: false,\n        name: '',\n        tweetCount: 0\n      },\n      follows: []\n    }\n  },\n  beforeRouteUpdate(to, from, next) {\n    this.getUser(to.params.id)\n    this.fetchFollowed(this.followType, to.params.id)\n    this.selected = 'UserFollowers'\n    // this.getRepies(to.params.id)\n\n    next()\n  },\n  methods: {\n    async getUser(userId) {\n      try {\n        const { data } = await usersAPI.get(userId)\n\n        const {\n          id,\n          account,\n          avatar,\n          cover,\n          followerCount,\n          followingCount,\n          introduction,\n          isFollowed,\n          name,\n          tweetCount\n        } = data\n\n        this.user = {\n          id,\n          account,\n          avatar,\n          cover,\n          followerCount,\n          followingCount,\n          introduction,\n          isFollowed,\n          name,\n          tweetCount\n        }\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得使用者資料，請稍後再試'\n        })\n      }\n    },\n    async fetchFollowed(followType, userId) {\n      try {\n        this.selected = followType\n        const functionName =\n          followType === 'UserFollowings' ? 'getFollowings' : 'getFollowers'\n        const { data } = await usersAPI[functionName](userId)\n\n        this.follows = data.message ? [] : data\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得跟隨資料，請稍後再試'\n        })\n      }\n    },\n    updateFollowing(topUserId) {\n      const id = this.$route.params.id\n      const intId = parseInt(id)\n\n      if (intId === this.currentUser.id && this.selected === 'UserFollowings') {\n        this.follows = this.follows.filter(follow => {\n          return follow.followingId !== topUserId\n        })\n      }\n\n      if (intId === topUserId && this.selected === 'UserFollowers') {\n        this.follows = this.follows.filter(follow => {\n          return follow.followerId !== this.currentUser.id\n        })\n      }\n    },\n    async updateFollower(topUserId) {\n      try {\n        const routerId = this.$route.params.id\n        const intId = parseInt(routerId)\n\n        if (intId === topUserId && this.selected === 'UserFollowers') {\n          this.follows.push({\n            followerId: this.currentUser.id,\n            account: this.currentUser.account,\n            avatar: this.currentUser.avatar,\n            name: this.currentUser.name,\n            introduction: this.currentUser.introduction,\n            isFollowed: true\n          })\n        }\n\n        if (\n          intId === this.currentUser.id &&\n          this.selected === 'UserFollowings'\n        ) {\n          const { data } = await usersAPI.get(topUserId)\n\n          if (data.status !== 'success') {\n            throw new Error(data.message)\n          }\n\n          const { id, account, avatar, introduction, name } = data\n\n          this.follows.push({\n            followingId: id,\n            account,\n            avatar,\n            name,\n            introduction,\n            isFollowed: true\n          })\n        }\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法加入喜愛使用者，請稍後再試'\n        })\n      }\n    },\n    updateFollowStatus({ id, isFollowed }) {\n      this.topUsers.forEach(user => {\n        if (user.id === id) {\n          user.isFollowed = isFollowed\n        }\n      })\n    },\n    updateTweetCard() {}\n  },\n  created() {\n    const { name } = this.$route\n    const { id } = this.$route.params\n    this.selected = name\n    this.fetchFollowed(name, id)\n    this.getUser(id)\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated', 'topUsers'])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nheader {\n  padding: 6px 20px 10px 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollow.vue?vue&type=template&id=a2ea9870&scoped=true&\"\nimport script from \"./UserFollow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserFollow.vue?vue&type=style&index=0&id=a2ea9870&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2ea9870\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollow.vue?vue&type=style&index=0&id=a2ea9870&lang=scss&scoped=true&\""],"sourceRoot":""}